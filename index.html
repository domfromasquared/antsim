<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <title>Color Swap Match-3</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <div class="frame" role="application" aria-label="Color Swap Match-3 Game">
      <header class="panel">
        <div class="titleRow">
          <h1>Hi, welcome to Color Swap Match-3!</h1>
          <span class="badge" id="statusBadge">Ready</span>
        </div>

        <p class="reasoning">
          Reasoning: Drag or tap-swap two adjacent tiles to make matches of 3+. Matches pop, tiles fall, and new tiles appear.
          Bigger matches create special items (Striped, Wrapped, Color Bomb). Use them for combos and big clears. Also, guide the
          big Cargo Crate down to the bottom for bonus points.
        </p>

        <div class="rulesWrap">
          <div>
            <p class="rulesTitle">Rules</p>
            <ul class="rules">
              <li>Swap adjacent tiles by dragging with your finger (or click/tap).</li>
              <li>Swaps must create a match or they bounce back.</li>
              <li>Match 4 = Striped (clears a row or column). Match 5 = Color Bomb (clears one color).</li>
              <li>T/L match = Wrapped (clears a 3Ã—3 area). Swap specials together for bigger effects.</li>
              <li>Drop the Cargo Crate to the bottom row for a big bonus.</li>
              <li>You have limited moves. Highest score wins.</li>
            </ul>
          </div>
        </div>
      </header>

      <div class="hud">
        <div class="pill"><strong>Score</strong><div class="val" id="scoreVal">0</div></div>
        <div class="pill"><strong>Moves</strong><div class="val" id="movesVal">30</div></div>
        <button class="pillBtn" id="soundBtn" type="button" aria-label="Toggle sound">
          <strong>Sound</strong><div class="val" id="soundVal">On</div>
        </button>
      </div>

      <div class="controls">
        <button class="secondary" id="newBtn" type="button">New Game</button>
        <button class="warn" id="hintBtn" type="button">Hint</button>
      </div>

      <p class="subnote" id="instructionLine">Drag to swap. (Tap also works.)</p>

      <div class="boardCard panel">
        <div class="boardGlow"></div>

        <div class="boardWrap">
          <div class="board" id="board" role="grid" aria-label="Game board"></div>
          <div class="cargoOverlay" id="cargoOverlay" aria-hidden="true">
            <div class="cargoFace">
              <div class="cargoLabel">CARGO</div>
              <div class="cargoNote">Bonus at bottom</div>
            </div>
          </div>
        </div>

        <div class="overlay" id="overlay" aria-modal="true" role="dialog">
          <div class="modal">
            <h2 id="endTitle">Game Over</h2>
            <p id="endMsg">Nice run. Want another go?</p>
            <div class="scoreline" id="finalScoreLine">Final Score: 0</div>
            <div class="row">
              <button class="good" id="playAgainBtn" type="button">Play Again</button>
              <button class="secondary" id="closeOverlayBtn" type="button">Close</button>
            </div>
          </div>
        </div>

        <div class="toast" id="toast" role="status" aria-live="polite"></div>
        <span class="srOnly" id="srAnnounce" aria-live="polite"></span>
      </div>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>